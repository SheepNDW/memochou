---
outline: deep
---

# ECMAScript 6 學習筆記

> 參考學習資源：[阮一峰 ECMAScript 6 (ES6) 標準入門教程 第三版](https://www.bookstack.cn/books/es6-3rd)、[從 ES6 開始的 JavaScript 學習生活](https://eddy-chang.gitbook.io/javascript-start-from-es6/)

本筆記僅記錄複習 ES6+ 時一些不太熟悉或是比較重要的內容，並非所有的新特性及內容。

## Symbol

> ES6 引入了一種新的原始型別 `Symbol`，表示獨一無二的值。 它是 JavaScript 語言的原始型別之一，其他的分別是： `undefined`、`null`、布林值（`Boolean`）、字串（`String`）、數值（`Number`）、物件（`Object`）。

### 使用 Symbol 作為物件屬性名

由於每一個 Symbol 值都是不相等的，這意味著 Symbol 值可以作為標識符，用於物件的屬性名，就能保證不會出現同名的屬性。 這對於一個物件由多個模組構成的情況非常有用，能防止某一個鍵（key）被不小心改寫或覆蓋。

```js
let obj = {
  name: 'sheep',
  getName() {
    console.log(this.name);
  },
};

let name = Symbol();

obj[name] = 'hello';

console.log(obj);
/*
  {
    name: 'sheep', 
    Symbol(): 'hello', 
    getName: ƒ
  }
*/

console.log(obj[name]); // hello
console.log(obj.name); // sheep
```

### 作為常數

沒有 Symbol 時：

```js
// before
const VIDEO = 1;
const AUDIO = 2;
const IMAGE = 3;

function play(type) {
  switch (type) {
    case VIDEO:
      console.log('播放影片');
      break;
    case AUDIO:
      console.log('播放音樂');
      break;
    case IMAGE:
      console.log('顯示圖片');
      break;
  }
}

play(AUDIO); // prints: 播放音樂
play(2); // prints: 播放音樂
```

> 可以發現當傳入 2 時仍然能正常使用這個函式。

改成使用 Symbol：

```js
const VIDEO = Symbol();
const AUDIO = Symbol();
const IMAGE = Symbol();

function play(type) {
  switch (type) {
    case VIDEO:
      console.log('播放影片');
      break;
    case AUDIO:
      console.log('播放音樂');
      break;
    case IMAGE:
      console.log('顯示圖片');
      break;
  }
}

play(AUDIO); // prints: 播放音樂
```

> 只有約定好的常數才能正常使用這個函式。

常數使用 Symbol 值最大的好處，就是其他任何值都不可能有相同的值了，因此可以保證上面的 `switch` 語句會按設計的方式工作。

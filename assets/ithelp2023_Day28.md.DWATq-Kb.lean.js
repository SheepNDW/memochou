import{_ as h,b as t,e as s,y as i,a9 as a,o as n}from"./chunks/framework.DOt9ymxk.js";const Qs=JSON.parse('{"title":"動態規劃 Dynamic Programming (1)","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"ithelp2023/Day28.md","filePath":"ithelp2023/Day28.md","lastUpdated":1697191908000}'),l={name:"ithelp2023/Day28.md"},k=a("",16),e=s("code",null,"fib(3)",-1),p=s("code",null,"fib(i)",-1),d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.765ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2548.3 1000","aria-hidden":"true"},T=a("",1),Q=[T],o=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mn",null,"2"),s("mi",null,"n")]),s("mo",{stretchy:"false"},")")])],-1),g=s("p",null,"此時就需要使用動態規劃來解決這個問題了，我們可以用兩種方法來改進剛才的暴力法：",-1),y=s("ul",null,[s("li",null,"Top-down"),s("li",null,"Bottom-up")],-1),c=s("h3",{id:"top-down-dynamic-programming-memoization",tabindex:"-1"},[i("Top-down Dynamic Programming (Memoization) "),s("a",{class:"header-anchor",href:"#top-down-dynamic-programming-memoization","aria-label":'Permalink to "Top-down Dynamic Programming (Memoization)"'},"​")],-1),m=s("strong",null,"記憶化",-1),B=s("code",null,"fib",-1),A=s("code",null,"fib(6)",-1),D=s("code",null,"fib(5)",-1),f=s("code",null,"fib(4)",-1),u=s("code",null,"fib(3)",-1),H=s("code",null,"fib(2)",-1),_=s("code",null,"fib(1)",-1),b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000","aria-hidden":"true"},V=a("",1),C=[V],x=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")")])],-1),L=a("",10),M={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"42.295ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 18694.4 2399","aria-hidden":"true"},Z=a("",1),F=[Z],E=s("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("mi",null,"f"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mrow",{"data-mjx-texclass":"INNER"},[s("mo",{"data-mjx-texclass":"OPEN"},"{"),s("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[s("mtr",null,[s("mtd",null,[s("mn",null,"1")]),s("mtd",null,[s("mtext",null,"if "),s("mi",null,"n"),s("mo",null,"="),s("mn",null,"1"),s("mtext",null," or "),s("mn",null,"2")])]),s("mtr",null,[s("mtd",null,[s("mi",null,"f"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("mi",null,"f"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",null,"−"),s("mn",null,"2"),s("mo",{stretchy:"false"},")")]),s("mtd",null,[s("mtext",null,"if "),s("mi",null,"n"),s("mo",null,"≥"),s("mn",null,"3")])])]),s("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1),S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000","aria-hidden":"true"},P=a("",1),I=[P],N=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")")])],-1),q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.618ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2041 1000","aria-hidden":"true"},R=a("",1),O=[R],J=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])],-1),G=a("",9),W={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"49.442ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 21853.2 2399","aria-hidden":"true"},U=a("",1),K=[U],X=s("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("mi",null,"f"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mrow",{"data-mjx-texclass":"INNER"},[s("mo",{"data-mjx-texclass":"OPEN"},"{"),s("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[s("mtr",null,[s("mtd",null,[s("mn",null,"0")]),s("mtd",null,[s("mtext",null,"if "),s("mi",null,"n"),s("mo",null,"="),s("mn",null,"0")])]),s("mtr",null,[s("mtd",null,[s("mn",null,"1"),s("mo",null,"+"),s("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min"),s("mo",{fence:"false",stretchy:"false"},"{"),s("mi",null,"f"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",null,"−"),s("msub",null,[s("mi",null,"c"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")"),s("mo",null,"∣"),s("mi",null,"i"),s("mo",null,"∈"),s("mo",{stretchy:"false"},"["),s("mn",null,"1"),s("mo",null,","),s("mi",null,"k"),s("mo",{stretchy:"false"},"]"),s("mo",{fence:"false",stretchy:"false"},"}")]),s("mtd",null,[s("mtext",null,"otherwise")])])]),s("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1),Y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ss={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.719ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 760 599.8","aria-hidden":"true"},is=a("",1),as=[is],ts=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mi",null,"c"),s("mi",null,"i")])])],-1),ns=a("",17);function hs(ls,ks,es,ps,ds,rs){return n(),t("div",null,[k,s("p",null,[i("此時我們會發現裡面存在很多函式被多次呼叫，例如："),e,i(" 被呼叫了 3 次，也就是說同一個子問題 "),p,i(" 會被處理很多次。這些遞迴函式的執行次數為二元樹的節點數。顯然二元樹的總節點數為指數級別，所以子問題的個數為 "),s("mjx-container",d,[(n(),t("svg",r,Q)),o]),i("，當你的 n = 50 時，瀏覽器可能就會卡住不能動了。")]),g,y,c,s("p",null,[i("其實就是多了一個 cache，然後從上而下遞迴從大問題開始解決，遇到重複子問題時，就從快取中取出答案，避免重複計算。這種方法稱為"),m,i("（Memoization）。 通常我們會用一個 hash 當作快取（cache），我們可以把 cache 放入 "),B,i(" 函式中。當參數傳入時，先檢查 cache 中是否有答案，沒有才進行計算，這樣整個數列的 "),A,i("、"),D,i("、"),f,i("、"),u,i("、"),H,i("、"),_,i(" 都只會計算一次，效能也提升到了 "),s("mjx-container",b,[(n(),t("svg",w,C)),x]),i(" 的時間複雜度。如下圖：")]),L,s("mjx-container",M,[(n(),t("svg",v,F)),E]),s("p",null,[i("我們需要仔細根據 0、1、2 這幾項的初始解來找規律。又由於動態規劃可以透過無後效性來最佳化效能，回到這題我們可以發現，其實我們只需要保存前兩項的值就可以了，到了第 4 項時，第 1 項的值已經沒用了，所以我們可以用兩個變數來保存前兩項的值，這樣空間複雜度就從 "),s("mjx-container",S,[(n(),t("svg",j,I)),N]),i(" 降到 "),s("mjx-container",q,[(n(),t("svg",z,O)),J]),i(" 了。實作程式碼如下：")]),G,s("mjx-container",W,[(n(),t("svg",$,K)),X]),s("blockquote",null,[s("p",null,[i("k 為硬幣種類數量，"),s("mjx-container",Y,[(n(),t("svg",ss,as)),ts]),i(" 為第 i 種硬幣的面額。")])]),ns])}const os=h(l,[["render",hs]]);export{Qs as __pageData,os as default};

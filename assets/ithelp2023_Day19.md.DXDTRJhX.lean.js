import{_ as n,b as i,e as s,y as t,a9 as a,o as l}from"./chunks/framework.DOt9ymxk.js";const F1=JSON.parse('{"title":"希爾排序法 Shell Sort","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"ithelp2023/Day19.md","filePath":"ithelp2023/Day19.md","lastUpdated":1696385908000}'),e={name:"ithelp2023/Day19.md"},h=s("h1",{id:"希爾排序法-shell-sort",tabindex:"-1"},[t("希爾排序法 Shell Sort "),s("a",{class:"header-anchor",href:"#希爾排序法-shell-sort","aria-label":'Permalink to "希爾排序法 Shell Sort"'},"​")],-1),d=s("blockquote",null,[s("p",null,[t("本文同步發布於 2023 iThome 鐵人賽："),s("a",{href:"https://ithelp.ithome.com.tw/users/20152758/ironman/6714",target:"_blank",rel:"noreferrer"},"那些前端不用會，但是可以會的資料結構與演算法"),t(" 系列文中。")])],-1),T={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.832ex",height:"2.452ex",role:"img",focusable:"false",viewBox:"0 -833.9 2577.6 1083.9","aria-hidden":"true"},r=a("",1),k=[r],Q=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mi",null,"n"),s("mn",null,"2")]),s("mo",{stretchy:"false"},")")])],-1),o=a("",12),g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.788ex",height:"1.756ex",role:"img",focusable:"false",viewBox:"0 -694 5652.4 776","aria-hidden":"true"},y=a("",1),c=[y],u=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"h"),s("mo",null,"="),s("mn",null,"3"),s("mo",null,"∗"),s("mi",null,"h"),s("mo",null,"+"),s("mn",null,"1")])],-1),A=a("",2),_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.62ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1600 1000","aria-hidden":"true"},x=a("",1),B=[x],D=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"n"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"2")])],-1),f=s("code",null,"n=100",-1),H=a("",2),V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.033ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8412.7 1000","aria-hidden":"true"},M=a("",1),C=[M],b=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"n"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"2"),s("mo",null,","),s("mi",null,"n"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"4"),s("mo",null,","),s("mi",null,"n"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"8"),s("mo",null,","),s("mo",null,"."),s("mo",null,"."),s("mo",null,"."),s("mo",null,","),s("mn",null,"1")])],-1),Z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.485ex",height:"2.37ex",role:"img",focusable:"false",viewBox:"0 -853.7 7286.5 1047.7","aria-hidden":"true"},S=a("",1),j=[S],E=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1"),s("mo",null,","),s("mn",null,"3"),s("mo",null,","),s("mn",null,"7"),s("mo",null,","),s("mo",null,"."),s("mo",null,"."),s("mo",null,"."),s("mo",null,","),s("msup",null,[s("mn",null,"2"),s("mi",null,"k")]),s("mo",null,"−"),s("mn",null,"1")])],-1),F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.639ex",height:"2.497ex",role:"img",focusable:"false",viewBox:"0 -853.7 9564.5 1103.7","aria-hidden":"true"},I=a("",1),R=[I],N=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1"),s("mo",null,","),s("mn",null,"4"),s("mo",null,","),s("mn",null,"13"),s("mo",null,","),s("mo",null,"."),s("mo",null,"."),s("mo",null,"."),s("mo",null,","),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mn",null,"3"),s("mi",null,"k")]),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"2")])],-1),q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.852ex",height:"1.971ex",role:"img",focusable:"false",viewBox:"0 -677 7890.7 871","aria-hidden":"true"},G=a("",1),J=[G],z=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1"),s("mo",null,","),s("mn",null,"5"),s("mo",null,","),s("mn",null,"19"),s("mo",null,","),s("mn",null,"41"),s("mo",null,","),s("mn",null,"109"),s("mo",null,","),s("mo",null,"."),s("mo",null,"."),s("mo",null,".")])],-1),X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.431ex",height:"2.587ex",role:"img",focusable:"false",viewBox:"0 -893.3 3284.7 1143.3","aria-hidden":"true"},K=a("",1),U=[K],W=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mi",null,"n"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mn",null,"4"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mo",null,"/")]),s("mn",null,"3")])]),s("mo",{stretchy:"false"},")")])],-1),Y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.835ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4788.9 1000","aria-hidden":"true"},t1=a("",1),a1=[t1],i1=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("msub",null,[s("mi",null,"log"),s("mn",null,"2")]),s("mo",{"data-mjx-texclass":"NONE"},"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")])],-1),l1=a("",5),n1=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"Name"),s("th",{style:{"text-align":"center"}},"Average"),s("th",{style:{"text-align":"center"}},"Best"),s("th",{style:{"text-align":"center"}},"Worst"),s("th",{style:{"text-align":"center"}},"Space"),s("th",{style:{"text-align":"center"}},"Method"),s("th",{style:{"text-align":"center"}},"Stable")])],-1),e1=s("td",{style:{"text-align":"left"}},[s("strong",null,"Shell sort")],-1),h1=s("td",{style:{"text-align":"center"}},"depends on gap sequence",-1),d1={style:{"text-align":"center"}},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.847ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4352.3 1000","aria-hidden":"true"},r1=a("",1),k1=[r1],Q1=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mi",null,"log"),s("mo",{"data-mjx-texclass":"NONE"},"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")])],-1),o1={style:{"text-align":"center"}},g1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.218ex",height:"2.452ex",role:"img",focusable:"false",viewBox:"0 -833.9 5400.2 1083.9","aria-hidden":"true"},y1=a("",1),c1=[y1],u1=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},"("),s("mi",null,"log"),s("mo",{"data-mjx-texclass":"NONE"},"⁡"),s("mi",null,"n"),s("msup",null,[s("mo",{stretchy:"false"},")"),s("mn",null,"2")]),s("mo",{stretchy:"false"},")")])],-1),A1={style:{"text-align":"center"}},_1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.618ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2041 1000","aria-hidden":"true"},x1=a("",1),B1=[x1],D1=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])],-1),f1=s("td",{style:{"text-align":"center"}},"In-place",-1),H1=s("td",{style:{"text-align":"center"}},"No",-1),V1=s("h2",{id:"參考資料",tabindex:"-1"},[t("參考資料 "),s("a",{class:"header-anchor",href:"#參考資料","aria-label":'Permalink to "參考資料"'},"​")],-1),L1=s("ul",null,[s("li",null,[s("a",{href:"https://www.tenlong.com.tw/products/9787115596154?list_name=r-zh_cn",target:"_blank",rel:"noreferrer"},"《JavaScript 算法：基本原理與代碼實現》")]),s("li",null,[s("a",{href:"https://www.tutorialspoint.com/data_structures_algorithms/shell_sort_algorithm.htm",target:"_blank",rel:"noreferrer"},"Tutorials Point")])],-1);function M1(C1,b1,Z1,v1,S1,j1){return l(),i("div",null,[h,d,s("p",null,[t("希爾排序法（Shell Sort）是 Donald Shell 於 1959 年提出的一種排序演算法，是插入排序法（Insertion Sort）的一種改良版本，也稱為縮小增量排序法（Diminishing Increment Sort），同時它也是第一批突破 "),s("mjx-container",T,[(l(),i("svg",p,k)),Q]),t(" 的排序演算法之一。")]),o,s("p",null,[t("我們每趟用到的 gap，共同組成一個陣列，稱為間距序列（Gap Sequence）。常用的 gap sequence 由 Knuth 提出，透過遞迴表達式 "),s("mjx-container",g,[(l(),i("svg",m,c)),u]),t(" 計算出來，其中 h 初始化為 1。這就是說，這個數列會是：1, 4, 13, 40,...等等。當數值超過陣列長度時，就停止這個遞迴。對於一個含有 1000 個元素的陣列，我們使用數列的前 6 個數值就可以了。")]),A,s("p",null,[t("shell sort 沒有規定要用哪種 gap 公式，不同的公式，其時間複雜度也不同。因此 shell sort 是一種不穩定的排序演算法。在 Shell 的原稿中，他建議初始的間距為 "),s("mjx-container",_,[(l(),i("svg",w,B)),D]),t("，簡單地把每一次排序分成兩半。因此對於一個 "),f,t(" 的陣列，逐漸減少的間距序列會是：50, 25, 12, 6, 3, 1。具體實作如下：")]),H,s("ol",null,[s("li",null,[t("Shell Sequence： "),s("mjx-container",V,[(l(),i("svg",L,C)),b]),t("（重複除以 2）")]),s("li",null,[t("Hibbard Sequence： "),s("mjx-container",Z,[(l(),i("svg",v,j)),E])]),s("li",null,[t("Knuth Sequence： "),s("mjx-container",F,[(l(),i("svg",P,R)),N])]),s("li",null,[t("Sedgewick Sequence： "),s("mjx-container",q,[(l(),i("svg",O,J)),z])])]),s("p",null,[t("目前最好的序列是 Sedgewick Sequence，它能讓 Shell Sort 的時間複雜度達到 "),s("mjx-container",X,[(l(),i("svg",$,U)),W]),t("，快於 "),s("mjx-container",Y,[(l(),i("svg",s1,a1)),i1]),t(" 的 heap sort，其計算公式：")]),l1,s("table",null,[n1,s("tbody",null,[s("tr",null,[e1,h1,s("td",d1,[s("mjx-container",T1,[(l(),i("svg",p1,k1)),Q1])]),s("td",o1,[s("mjx-container",g1,[(l(),i("svg",m1,c1)),u1])]),s("td",A1,[s("mjx-container",_1,[(l(),i("svg",w1,B1)),D1])]),f1,H1])])]),V1,L1])}const P1=n(e,[["render",M1]]);export{F1 as __pageData,P1 as default};
